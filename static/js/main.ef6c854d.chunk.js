/*! For license information please see main.ef6c854d.chunk.js.LICENSE.txt */
(this["webpackJsonptcc-learning"]=this["webpackJsonptcc-learning"]||[]).push([[0],{66:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(16),a=r.n(i),c=r(20),s=r(24),u=r.n(s),l=r(31),h=r.n(l),d=r(32),f=r(10),p=r(7),v=r(13),m=r(9),j=r(14),b=r(4),g=r(37),y=r.p+"static/media/click-2.66336ee5.wav",x=r(0),O=["children"],w=new Audio(y);w.load();var L=function(e){var t=e.children,r=Object(g.a)(e,O);return Object(x.jsx)("button",Object(j.a)(Object(j.a)({},r),{},{onClick:function(e){"true"!==window.localStorage.getItem("mute")&&w.play(),r.onClick&&r.onClick(e)},children:t}))},_=r(33),E=function(e,t,r,n){return e+60*t+60*r*60+60*n*60*24},k=function(e){var t=e.start,r=void 0===t?0:t,o=e.step,i=void 0===o?10:o,a=e.children,c=e.onChange,s=e.onStep,u=Object(_.useStopwatch)({autoStart:!0,offsetTimestamp:new Date(Date.now()+1e3*r)}),l=u.seconds,h=u.minutes,d=u.hours,f=u.days,p=Object(n.useRef)(r);return Object(n.useEffect)((function(){var e=E(l,h,d,f);c&&c(e),s&&e>=p.current+i&&(s(e),p.current=e)}),[c,l,h,d,f,s,r,i]),Object(x.jsxs)("div",{className:"stopwatch",children:[Object(x.jsx)("div",{className:"stopwatch-time shaking",children:"\u23f0"}),Object(x.jsxs)("span",{className:"stopwatch-time",children:[E(l,h,d,f),a]})]})},N=r(12),C=function(e){var t=e.name,r=e.code;return Object(x.jsx)("img",{alt:t,height:20,width:30,src:"http://purecatamphetamine.github.io/country-flag-icons/3x2/".concat(r,".svg")})},S=["city","town","village","municipality"],G=["state","state_district","county"];function I(e,t){var r,n=Object(N.a)(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o in e)return e[o]}}catch(i){n.e(i)}finally{n.f()}return""}function F(e,t,r){return I(e,r)===I(t,r)}function P(e,t){return!!F(e,t,G)&&(!!F(e,t,S)&&(!!F(e,t,["region"])&&!!F(e,t,["country"])))}var T=function(e){var t=e.data,r=e.className,n=void 0===r?"":r,o=e.distance,i=e.children,a=I(t.address,S),c=I(t.address,G);return Object(x.jsxs)("div",{className:"data-container ".concat(n),children:[a&&Object(x.jsxs)("span",{children:["Cidade: ",a]}),c&&Object(x.jsxs)("span",{children:["Estado: ",c]}),t.address.region&&Object(x.jsxs)("span",{children:["Regi\xe3o: ",t.address.region]}),t.address.country&&t.address.country_code&&Object(x.jsxs)("span",{className:"country",children:["Pa\xeds: ",t.address.country,Object(x.jsx)(C,{name:t.address.country,code:(t.address.country_code||"").toUpperCase()})]}),o&&Object(x.jsxs)("span",{children:["Dist\xe2ncia: ",(o/1e3).toFixed(2)," km"]}),i]})},M={lat:10.99835602,lng:77.01502627},D=function(e){var t=e.streetViewPanorama,r=e.coordinates,o=e.children,i=Object(n.useState)(),a=Object(b.a)(i,2),c=a[0],s=a[1],u=Object(n.useRef)(null);return r?Object(x.jsx)(f.d,{position:r,onLoad:function(e){return s(e)},onClick:function(){u.current&&u.current.state.infoWindow&&u.current.state.infoWindow.open(t)},children:o&&c&&Object(x.jsx)(f.c,{ref:u,options:{pixelOffset:new google.maps.Size(0,-50,"px","px")},children:o})}):null},q=function(e){var t=e.markers,r=void 0===t?[]:t,o=e.guesses,i=void 0===o?[]:o,a=e.coordinates,c=void 0===a?M:a,s=Object(n.useState)(!1),u=Object(b.a)(s,1)[0],l=Object(n.useState)(),h=Object(b.a)(l,2),d=h[0],p=h[1],v={clickToGo:!0,position:c,pov:{heading:0,pitch:0},zoom:1,visible:!0,enableCloseButton:!1,disableDefaultUI:!0};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(f.b,{mapContainerStyle:{height:"100%"},center:c,zoom:10,children:[Object(x.jsx)(f.e,{onLoad:function(e){return p(e)},options:v}),u&&d&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(D,{streetViewPanorama:d,coordinates:c,children:Object(x.jsx)("span",{children:"This is the initial location"})}),i.map((function(e){return Object(x.jsx)(D,{streetViewPanorama:d,coordinates:{lat:Number(e.data.lat),lng:Number(e.data.lon)},children:Object(x.jsx)(T,{data:e.data})},e.id)})),r.map((function(e,t){return Object(x.jsx)(D,{streetViewPanorama:d,coordinates:e.coordinates,children:Object(x.jsx)("span",{children:e.data})},t)}))]})]})})},V=r(38),A={lat:-13.8860709,lng:-57.2789963};function z(e,t,r,n){function o(e){var t=Math.sin(e*Math.PI/180),r=Math.log((1+t)/(1-t))/2;return Math.max(Math.min(r,Math.PI),-Math.PI)/2}var i=Math.abs(o(e)-o(r)),a=Math.abs(t-n),c=i/Math.PI,s=a/360,u=Math.log(1/c)/Math.log(2),l=Math.log(1/s)/Math.log(2);return Math.min(u,l)}var H=function(e){var t=e.coordinates,r=void 0===t?A:t,n=e.zoom,o=void 0===n?4.5:n,i=e.options,a=void 0===i?{}:i,c=e.children,s=e.onMapClick;return Object(x.jsx)(f.b,{mapContainerStyle:{height:"100%"},center:r,zoom:o,options:a,onClick:s,children:c})},Y=function(e){var t=e.className,r=void 0===t?"":t,n=e.portalClassName,o=void 0===n?"":n,i=e.children,a=e.show,c=e.onHide;return Object(x.jsx)(u.a,{isOpen:a,onRequestClose:c,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,style:{overlay:{backgroundColor:void 0},content:{inset:"80px",border:"1px solid #1d246e",background:"#323dbb",borderRadius:"12px",color:"white",padding:"10px"}},className:r,portalClassName:o,children:i})},J=function(e){var t=e.color,r=void 0===t?"white":t;return Object(x.jsxs)("div",{className:"spinner",style:{borderColor:r},children:[Object(x.jsx)("div",{style:{borderColor:r}}),Object(x.jsx)("div",{style:{borderColor:r}})]})},W=r(18),B=r(19);function R(){R=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=y(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function h(){}function d(){}function f(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==t&&r.call(m,o)&&(p=m);var j=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,c(j,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(j),c(j,a,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var U=function(e){return fetch(e).then((function(e){return e.json()}))},X=function(e){var t=e.position,r=e.showConfirmButton,n=e.onConfirm,o=e.children,i=Object(V.a)("https://nominatim.openstreetmap.org/reverse.php?lat=".concat(t.lat,"&lon=").concat(t.lng,"&zoom=18&format=jsonv2"),U,{suspense:!0}).data;return i.error||!i.address?Object(x.jsx)("span",{className:"data-container",children:"N\xe3o consegui localizar, tente novamente."}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(T,{data:i,children:o}),r&&Object(x.jsx)(L,{onClick:function(){return n&&n(i)},children:"Confirmar"})]})},Z=function(e){var t=e.canGuess,r=e.level,n=e.guess,o=e.onClose,i=e.onNext,a=null;return a=P(r.data.address,n.data.address)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{children:"Voc\xea acertou a cidade!"}),Object(x.jsx)(L,{onClick:i,children:"Pr\xf3ximo"})]}):t?Object(x.jsx)(L,{onClick:o,children:"Tentar novamente"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{children:"Nenhuma tentativa restante"}),Object(x.jsx)(L,{onClick:i,children:"Pr\xf3ximo"})]}),Object(x.jsxs)(Y,{className:"guess-info-modal",portalClassName:"guess-info-modal-container",show:!0,onHide:o,children:[Object(x.jsx)("h3",{children:"Seu palpite"}),Object(x.jsxs)(T,{data:n.data,children:[Object(x.jsxs)("span",{children:["Dist\xe2ncia: ",(n.distance/1e3).toFixed(2),"km"]}),a&&Object(x.jsx)("div",{className:"guess-info-modal-actions",children:a})]})]})},K=function(e){var t=e.placeCoords,r=e.guessCoords,i=e.showInfoWindow,a=e.onShowInfoWindow,c=e.onConfirm,s=Object(n.useState)(!1),u=Object(b.a)(s,2),l=u[0],h=u[1],d=Object(n.useState)(!1),p=Object(b.a)(d,2),v=p[0],m=p[1],j=Object(n.useMemo)((function(){return window.google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(r),new google.maps.LatLng(t))}),[r,t]);Object(n.useEffect)((function(){h(!1)}),[r]);return Object(x.jsx)(f.d,{position:r,zIndex:0,onClick:function(){return a(!0)},onPositionChanged:function(){return a(!0)},onLoad:function(){return m(!0)},children:i&&v&&Object(x.jsx)(f.c,{onCloseClick:function(){return a(!1)},children:Object(x.jsx)(o.a.Suspense,{fallback:Object(x.jsx)(J,{color:"#323dbb"}),children:Object(x.jsx)(X,{position:r,showConfirmButton:!l,onConfirm:function(e){h(!0),c(r,e,j)},children:l&&Object(x.jsxs)("span",{children:["Dist\xe2ncia: ",(j/1e3).toFixed(2),"km"]})})})})})},Q=function(e){var t=e.showInfoWindowId,r=e.level,n=e.guesses,o=e.onGuessClick;return Object(x.jsx)(x.Fragment,{children:n.sort((function(e,t){return e.distance-t.distance})).map((function(e,i){var a="red";return P(e.data.address,r.data.address)?a="sunny":(e.distance<3e4?a="blue":e.distance<1e5?a="green":e.distance<3e5?a="yellow":e.distance<1e6&&(a="orange"),0===i&&(a+="-dot")),Object(x.jsxs)(f.d,{zIndex:n.length+1-i,position:e,icon:"https://maps.google.com/mapfiles/ms/micons/".concat(a,".png"),onClick:function(){return o(e.id)},children:[t===e.id&&Object(x.jsx)(f.c,{onCloseClick:function(){return o(void 0)},children:Object(x.jsxs)(T,{data:e.data,children:[Object(x.jsxs)("span",{children:["Dist\xe2ncia: ",(e.distance/1e3).toFixed(2),"km"]}),Object(x.jsxs)("span",{children:["Palpite aos ",e.time_elapsed,"s"]})]})}),t===e.id&&Object(x.jsx)(f.a,{center:e,radius:e.distance,options:{strokeWeight:1}})]},e.id)}))})},$=function(e){var t=e.show,r=e.onClose;return Object(x.jsxs)(Y,{className:"place-chooser-tutorial",portalClassName:"place-chooser-tutorial-container",show:t,onHide:r,children:[Object(x.jsx)("h3",{children:"Como dar um palpite?"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Clique em qualquer lugar do mapa"}),Object(x.jsx)("li",{children:"Espere carregar as informa\xe7\xf5es"}),Object(x.jsx)("li",{children:'Clique em "Confirmar"'})]}),Object(x.jsx)("h3",{children:"Legenda dos marcadores"}),[{label:"Acertou na mosca! Mesma cidade",image:"https://maps.google.com/mapfiles/ms/micons/sunny.png"},{label:"Quando tem um ponto no meio do marcador, \xe9 o seu melhor palpite",image:"https://maps.google.com/mapfiles/ms/micons/blue-dot.png"},{label:"Pertinho! Menos de 30km, mas ainda n\xe3o \xe9 a cidade certa!",image:"https://maps.google.com/mapfiles/ms/micons/blue.png"},{label:"Ficando quente! Entre 30km e 100km",image:"https://maps.google.com/mapfiles/ms/micons/green.png"},{label:"Chegando perto! Entre 100km e 300km",image:"https://maps.google.com/mapfiles/ms/micons/yellow.png"},{label:"Um pouco longe ainda! Entre 300km e 1000km",image:"https://maps.google.com/mapfiles/ms/micons/orange.png"},{label:"Muito longe! Mais de 1000km de dist\xe2ncia",image:"https://maps.google.com/mapfiles/ms/micons/red.png"}].map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:e.image,height:32,width:32,alt:e.label}),Object(x.jsx)("h4",{children:e.label})]},e.image)}))]})},ee=function(e){var t=e.level,r=e.canGuess,o=e.guesses,i=e.onConfirm,a=e.onNext,c=Object(n.useState)(A),s=Object(b.a)(c,2),u=s[0],l=s[1],h=Object(n.useState)(4.5),d=Object(b.a)(h,2),f=d[0],p=d[1],v=Object(n.useState)(),j=Object(b.a)(v,2),g=j[0],y=j[1],O=Object(n.useState)(),w=Object(b.a)(O,2),_=w[0],E=w[1],k=Object(n.useState)(),N=Object(b.a)(k,2),C=N[0],S=N[1],G=Object(n.useState)(!1),I=Object(b.a)(G,2),F=I[0],P=I[1],T=function(){var e=Object(m.a)(R().mark((function e(t){var r,n,o,i,a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.locale.value,n=encodeURIComponent(r),e.next=5,fetch("https://nominatim.openstreetmap.org/search.php?q=".concat(n,"&polygon_geojson=1&format=jsonv2"));case 5:return o=e.sent,e.next=8,o.json();case 8:(i=e.sent)&&i[0]&&(l({lat:Number(i[0].lat),lng:Number(i[0].lon)}),a=z(Number(i[0].boundingbox[0]),Number(i[0].boundingbox[2]),Number(i[0].boundingbox[1]),Number(i[0].boundingbox[3])),p(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"place-chooser-container",children:[Object(x.jsx)("div",{className:"search-place-form",children:Object(x.jsxs)("form",{onSubmit:T,children:[Object(x.jsx)("input",{name:"locale",id:"locale"}),Object(x.jsx)(L,{children:"Pesquisar"}),Object(x.jsx)(L,{type:"button",onClick:function(){return P(!0)},children:Object(x.jsx)(W.a,{icon:B.b})})]})}),Object(x.jsx)("div",{className:"place-chooser-map-container",children:Object(x.jsxs)(H,{coordinates:u,zoom:f,options:{clickableIcons:!1,streetViewControl:!1},onMapClick:function(e){E(-1),e.latLng&&r&&y(e.latLng.toJSON())},children:[Object(x.jsx)(Q,{showInfoWindowId:_,level:t,guesses:o,onGuessClick:E}),g&&Object(x.jsx)(K,{placeCoords:t,showInfoWindow:-1===_,guessCoords:g,onShowInfoWindow:function(e){return E(e?-1:void 0)},onConfirm:function(){var e=Object(m.a)(R().mark((function e(t,r,n){var o;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(void 0),e.next=3,i(t,r,n);case 3:o=e.sent,S(o),y(void 0);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}),C&&Object(x.jsx)(Z,{canGuess:r,level:t,guess:C,onClose:function(){return S(void 0)},onNext:a})]})}),Object(x.jsx)($,{show:F,onClose:function(){return P(!1)}})]})},te=function(e){var t=e.show,r=e.canGuess,n=e.level,o=e.guesses,i=e.onHide,a=e.onConfirm,c=e.onNext;return Object(x.jsx)(Y,{show:t,onHide:i,children:Object(x.jsx)(ee,{level:n,canGuess:r,guesses:o,onConfirm:a,onNext:c})})},re=function(e){var t=e.hints,r=e.hintsViewed,n=e.show,o=e.onHide,i=e.onHintView;return Object(x.jsx)(Y,{show:n,onHide:o,children:Object(x.jsx)("ul",{className:"hints",children:t.map((function(e){var t=r.find((function(t){return t.hint_id===e.id}));return t?Object(x.jsx)("li",{children:Object(x.jsxs)("span",{children:[e.description," - Visto aos ",t.time_elapsed,"s"]})},e.id):Object(x.jsx)("li",{children:Object(x.jsx)(L,{onClick:function(){return i(e)},children:"Mostrar"})},e.id)}))})})},ne=function(e){var t=e.current,r=e.hints,o=e.guessLimit,i=e.startTime,a=e.guesses,c=e.hintsViewed,s=e.onGuess,u=e.onHintViewed,l=e.onTimePassed,h=e.onNext,d=Object(n.useState)(!1),f=Object(b.a)(d,2),p=f[0],v=f[1],m=Object(n.useState)(!1),j=Object(b.a)(m,2),g=j[0],y=j[1],O=Object(n.useRef)(0),w=0===o||a.length<o;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"game-header",children:[Object(x.jsx)("div",{children:Object(x.jsxs)(L,{onClick:function(){return v((function(e){return!e}))},children:["Palpitar ",a.length,"/",0===o?"\u221e":o]})}),Object(x.jsx)("div",{children:Object(x.jsx)(k,{start:i,onChange:function(e){return O.current=e},onStep:l},t.id)}),Object(x.jsx)("div",{children:Object(x.jsxs)(L,{onClick:function(){return y((function(e){return!e}))},children:["Dicas ",c.length,"/",r.length]})})]}),Object(x.jsx)("div",{className:"game-body full-height",children:Object(x.jsx)(q,{markers:[],guesses:a,coordinates:t})}),Object(x.jsx)(te,{show:p,level:t,canGuess:w,guesses:a,onHide:function(){return v(!1)},onConfirm:function(e,t,r){return s(e,t,O.current,r)},onNext:h}),Object(x.jsx)(re,{hints:r,hintsViewed:c,show:g,onHide:function(){return y(!1)},onHintView:function(e){return u(e,O.current)}})]})},oe=r(36);function ie(){ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=y(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function h(){}function d(){}function f(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==t&&r.call(m,o)&&(p=m);var j=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,c(j,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(j),c(j,a,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var ae=Object(oe.a)("https://ddzlknjoifzrxzclbzop.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkemxrbmpvaWZ6cnh6Y2xiem9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTQxMTcyODAsImV4cCI6MTk2OTY5MzI4MH0.T_giaHDYzzpnJ3MfavMKAlKOsY3PpVqG6693vENyGMw"),ce="guesses",se="best_guesses",ue="games",le="game_levels",he="game_level_hints",de="levels",fe="profiles",pe="modes",ve="mode_levels";function me(e,t,r){return je.apply(this,arguments)}function je(){return je=Object(m.a)(ie().mark((function e(t,r,n){var o,i,a=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]?a[3]:"*",e.next=3,ae.from(t).select(o).match(r);case 3:if(!(i=e.sent).data||!i.data[0]){e.next=6;break}return e.abrupt("return",i.data[0]);case 6:return e.next=8,ae.from(t).insert(Object(j.a)(Object(j.a)({},r),n)).select(o);case 8:if(!(i=e.sent).data||!i.data[0]){e.next=11;break}return e.abrupt("return",i.data[0]);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}var be=ae;function ge(){ge=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=y(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function h(){}function d(){}function f(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==t&&r.call(m,o)&&(p=m);var j=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,c(j,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(j),c(j,a,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function ye(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(m.a)(ge().mark((function e(t){var r,n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t,password:t},e.next=3,be.auth.signIn(r);case 3:if((n=e.sent).error){e.next=6;break}return e.abrupt("return",{response:n,isNew:!1});case 6:return e.next=8,be.auth.signUp(r);case 8:return n=e.sent,e.abrupt("return",{response:n,isNew:!0});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=function(e){var t=e.onAuth,r=Object(n.useState)(window.localStorage.getItem("guess_limit")||"5"),o=Object(b.a)(r,2),i=o[0],a=o[1],c=Object(n.useState)(),s=Object(b.a)(c,2),u=s[0],l=s[1];Object(n.useEffect)((function(){be.from(pe).select().then((function(e){var t=e.data;return l(null!==t&&void 0!==t?t:void 0)}))}),[]);var h=function(){var e=Object(m.a)(ge().mark((function e(r){var n,o,a,c,s,u,l,h;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=r.target.user.value,o=Number(r.target.mode.value||"1"),n&&o){e.next=6;break}return alert("Informe o nome do jogador e o modo de jogo"),e.abrupt("return");case 6:return window.localStorage.setItem("user",n),window.localStorage.setItem("mode",o.toString()),window.localStorage.setItem("guess_limit",i),e.next=11,ye(n+"@lalalala.com");case 11:a=e.sent,c=a.response,s=c.user,u=c.session,l=c.error,h=a.isNew,t({user:s,session:u,error:l},Number(i),o,h);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u?Object(x.jsxs)("form",{onSubmit:h,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"user",children:"Nome do Jogador"}),Object(x.jsx)("input",{name:"user",id:"user",defaultValue:window.localStorage.getItem("user")||""})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"mode",children:"Modo de Jogo"}),Object(x.jsx)("select",{name:"mode",id:"mode",defaultValue:window.localStorage.getItem("mode")||"1",children:u.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.title},e.id)}))})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("label",{htmlFor:"guess_limit",children:["N\xfamero de Palpites: ","0"===i?"Ilimitado":i]}),Object(x.jsx)("input",{type:"range",name:"guess_limit",id:"guess_limit",defaultValue:i,onInput:function(e){return a(e.target.value)},min:"0",max:"10"})]}),Object(x.jsx)("div",{children:Object(x.jsx)(L,{children:"Entrar"})})]}):null},we=r(35),Le=function(e){var t=e.style,r=e.bestGuesses,n=e.current,o=e.levels,i=e.onLevelClick;return Object(x.jsx)(x.Fragment,{children:o.map((function(e,o){var a=r.find((function(t){return t.level.id===e.id}));return Object(x.jsxs)(L,{className:"path-content-level full ".concat(n===o?"current":""),onClick:function(){return i(o)},style:t,children:[Object(x.jsx)("span",{className:"level-number ".concat(a&&a.guess?"":"never-tried"),children:o+1}),a&&a.guess&&Object(x.jsxs)("div",{className:"best-guess-path",children:[Object(x.jsx)("span",{className:"best-guess-path-title",children:"Melhor palpite"}),Object(x.jsxs)("span",{children:["Dist\xe2ncia: ",a.guess.distance.toFixed(2)," km"]}),Object(x.jsxs)("span",{children:["Dicas: ",a.guess.hints_viewed]})]})]},e.id)}))})},_e=function(e){var t=e.levels,r=e.bestGuesses,o=e.current,i=e.onLevelClick,a=Object(n.useState)(!1),c=Object(b.a)(a,2),s=c[0],u=c[1],l=Object(we.a)(),h=Object(b.a)(l,2),d=h[0],f=h[1].width,p=2;return f>2500?p=7:f>1800?p=6:f>1200?p=5:f>850?p=4:f>600&&(p=3),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L,{onClick:function(){return u((function(e){return!e}))},children:"N\xedveis"}),Object(x.jsxs)(Y,{show:s,onHide:function(){return u(!1)},children:[Object(x.jsx)("div",{className:"levels-container",ref:d,children:Object(x.jsx)(Le,{style:{width:(f||0)/p-20,height:(f||0)/p-20,margin:10},levels:t,bestGuesses:r,current:o,onLevelClick:function(e){i(e),u(!1)}})}),Object(x.jsx)("div",{children:"Mais por vir..."})]})]})},Ee=function(e){var t=e.show,r=e.onClose;return Object(x.jsxs)(Y,{show:t,onHide:r,children:[Object(x.jsx)("h3",{children:"Configura\xe7\xf5es"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"mute",children:"Desativar sons"}),Object(x.jsx)("input",{type:"checkbox",id:"mute",name:"mute",onChange:function(e){return window.localStorage.setItem("mute",e.target.checked?"true":"false")},checked:"true"===window.localStorage.getItem("mute")})]})]})},ke=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),r=t[0],o=t[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L,{onClick:function(){return o(!0)},children:Object(x.jsx)(W.a,{icon:B.a})}),Object(x.jsx)(Ee,{show:r,onClose:function(){return o(!1)}})]})},Ne=function(e){var t=e.guessLimit,r=e.show,n=e.onClose;return Object(x.jsxs)(Y,{show:r,onHide:n,children:[Object(x.jsx)("h2",{children:"Tutorial"}),Object(x.jsx)("h3",{children:"Navega\xe7\xe3o"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Clique e arraste no mapa para girar a c\xe2mera"}),Object(x.jsx)("li",{children:'Clique nos "X" no ch\xe3o para se mover'})]}),Object(x.jsx)("h3",{children:"Dicas"}),Object(x.jsx)("ul",{children:Object(x.jsx)("li",{children:'Clique no bot\xe3o "Dicas" se estiver sem ideias'})}),Object(x.jsx)("h3",{children:"Palpitar"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:'Clique em "Palpitar" para uma tentativa'}),Object(x.jsx)("li",{children:"Clique em qualquer lugar no mapa para dar seu palpite e ver a dist\xe2ncia do local correto"}),Object(x.jsxs)("li",{children:["Voc\xea tem ",t," tentativas, use com sabedoria"]})]}),Object(x.jsx)("h3",{children:"N\xedveis"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:'Clique em "N\xedveis" para escolher um n\xedvel para jogar'}),Object(x.jsx)("li",{children:'Clique em "Pular" para ir ao pr\xf3ximo n\xedvel'})]}),Object(x.jsx)(L,{className:"full-width",onClick:n,children:"Vamos l\xe1!"})]})},Ce=function(e){var t=e.guessLimit,r=e.show,o=Object(n.useState)(r),i=Object(b.a)(o,2),a=i[0],c=i[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L,{onClick:function(){return c(!0)},children:Object(x.jsx)(W.a,{icon:B.b})}),Object(x.jsx)(Ne,{guessLimit:t,show:a,onClose:function(){return c(!1)}})]})};function Se(){Se=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=y(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function h(){}function d(){}function f(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==t&&r.call(m,o)&&(p=m);var j=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,c(j,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(j),c(j,a,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Ge=function(e){var t=e.auth,r=e.guessLimit,o=e.mode,i=Object(n.useState)(),a=Object(b.a)(i,2),c=a[0],s=a[1],u=Object(n.useState)(0),l=Object(b.a)(u,2),h=l[0],d=l[1],f=Object(n.useState)(),p=Object(b.a)(f,2),v=p[0],j=p[1],g=Object(n.useMemo)((function(){var e;return null!==(e=null===c||void 0===c?void 0:c.modes.mode_levels.map((function(e){return e.levels})))&&void 0!==e?e:[]}),[c]),y=function(){var e=Object(m.a)(Se().mark((function e(t,r,n){var o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(ue,{user_id:t.id,guess_limit:n,mode_id:r},{},"*, ".concat(pe,"!inner(*, ").concat(ve,"!inner(*, ").concat(de,"!inner(*)))"));case 2:(o=e.sent)&&s(o);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(Se().mark((function e(t,r){var n,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from(se).select("*, ".concat(le,"!inner(*, ").concat(de,"!inner(*))")).order("distance").eq("".concat(le,".game_id"),t.id);case 2:n=e.sent,o=n.data,n.error,o&&j(r.map((function(e){return{level:e,guess:o.find((function(t){return t.game_levels.level_id===e.id}))}})));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){c||y(t.user,o,r)}),[c,o,r,t.user]),Object(n.useEffect)((function(){c&&g&&O(c,g)}),[c,g]),!c)return null;var w=g[h];return w?Object(x.jsxs)("div",{className:"game-container full",children:[Object(x.jsx)(Ie,{auth:t,level:w,game:c,onGuess:function(){return O(c,g)},onNext:function(){return d((function(e){return e+1}))}},h),Object(x.jsxs)("div",{className:"game-footer",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(ke,{}),Object(x.jsx)(Ce,{guessLimit:c.guess_limit,show:t.isNew})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(_e,{levels:g,bestGuesses:v||[],current:h,onLevelClick:d}),Object(x.jsx)(L,{onClick:function(){return d((function(e){return e+1}))},children:"Pular"})]})]})]}):Object(x.jsx)("span",{children:"Nenhum n\xedvel aqui!"})},Ie=function(e){e.auth;var t=e.game,r=e.level,o=e.onGuess,i=e.onNext,a=Object(n.useState)(),c=Object(b.a)(a,2),s=c[0],u=c[1],l=Object(n.useState)(),h=Object(b.a)(l,2),d=h[0],f=h[1],p=Object(n.useState)(),j=Object(b.a)(p,2),g=j[0],y=j[1],O=Object(n.useState)(),w=Object(b.a)(O,2),L=w[0],_=w[1],E=function(){var e=Object(m.a)(Se().mark((function e(t,r){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(le,{game_id:t.id,level_id:r.id},{time_elapsed:0});case 2:(n=e.sent)&&u(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(Se().mark((function e(t){var r,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from(ce).select().match({game_level_id:t.id});case 2:r=e.sent,n=r.data,r.error,n&&f(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(Se().mark((function e(t){var r,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from(he).select().match({game_level_id:t.id});case 2:r=e.sent,n=r.data,r.error,n&&_(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(Se().mark((function e(t){var r,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from("hints").select().match({level_id:t.id});case 2:r=e.sent,n=r.data,r.error,n&&y(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){s||E(t,r)}),[s,t,r]),Object(n.useEffect)((function(){s&&(k(s),N(s))}),[s]),Object(n.useEffect)((function(){r&&C(r)}),[r]),!s)return null;var S=function(){var e=Object(m.a)(Se().mark((function e(n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from(le).update({time_elapsed:n}).match({game_id:t.id,level_id:r.id});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(Se().mark((function e(t,r){var n,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from(he).insert({game_level_id:s.id,hint_id:t.id,time_elapsed:r});case 2:n=e.sent,o=n.data,n.error,S(r),o&&o[0]&&_((function(e){return[].concat(Object(v.a)(e||[]),[o[0]])}));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(Se().mark((function e(t,r,n,i){var a,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from(ce).insert({game_level_id:s.id,distance:i,lat:t.lat,lng:t.lng,time_elapsed:n,data:r,hints_viewed:(L||[]).length});case 2:if(a=e.sent,c=a.data,a.error,S(n),!c||!c[0]){e.next=10;break}return f((function(e){return[].concat(Object(v.a)(e||[]),[c[0]])})),o(),e.abrupt("return",c[0]);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}();return Object(x.jsx)(ne,{current:r,hints:g||[],guessLimit:t.guess_limit,startTime:s.time_elapsed,guesses:d||[],hintsViewed:L||[],onNext:i,onGuess:I,onHintViewed:G,onTimePassed:S})},Fe=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(),a=Object(b.a)(i,2),s=a[0],u=a[1];return r?r&&r.user&&r.session&&s?Object(x.jsx)(Ge,{auth:r,guessLimit:s.guessLimit,mode:s.mode}):Object(x.jsx)("div",{className:"login-container",children:Object(x.jsx)("span",{children:"Carregando ou erro kkkk"})}):Object(x.jsxs)("div",{className:"login-container",children:[Object(x.jsx)(Oe,{onAuth:function(e,t,r,n){o(Object(j.a)(Object(j.a)({},e),{},{isNew:n})),u({guessLimit:t,mode:r})}}),Object(x.jsx)(c.b,{to:"/leaderboard",className:"leaderboard-link",children:"leaderboard"})]})};function Pe(){Pe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=y(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function h(){}function d(){}function f(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==t&&r.call(m,o)&&(p=m);var j=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,c(j,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(j),c(j,a,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Te=function(){var e=Object(m.a)(Pe().mark((function e(t){var r,n,o,i,a,c,s=arguments;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:5,n=s.length>2&&void 0!==s[2]?s[2]:0,o=be.from(se).select("*, ".concat(le,"!inner(*, ").concat(de,"!inner(*), ").concat(ue,"!inner(*, ").concat(fe,"!inner(*)))")).eq("".concat(le,".").concat(ue,".guess_limit"),r).eq("".concat(le,".").concat(ue,".mode_id"),t),0!==n&&(o=o.eq("".concat(le,".level_id"),n)),e.next=6,o.order("distance");case 6:return i=e.sent,a=i.data,c=i.error,e.abrupt("return",{data:a,error:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){var t=e.mode,r=e.guessLimit,o=e.levelId,i=Object(n.useState)(),a=Object(b.a)(i,2),c=a[0],s=a[1],u=Object(n.useState)(),l=Object(b.a)(u,2)[1];return Object(n.useEffect)((function(){s(void 0),l(void 0),Te(t,r,o).then((function(e){var t=e.data,r=e.error;t&&s(t),r&&l(r)}))}),[t,r,o]),c?Object(x.jsx)("div",{children:Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"#"}),Object(x.jsx)("th",{children:"Nome"}),Object(x.jsx)("th",{children:"Dist\xe2ncia"}),Object(x.jsx)("th",{children:"Acertou?"}),Object(x.jsx)("th",{children:"Tempo"}),Object(x.jsx)("th",{children:"Dicas Usadas"})]})}),Object(x.jsx)("tbody",{children:c.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.game_levels.games.profiles.name}),Object(x.jsx)("td",{children:(e.distance/1e3).toFixed(2)}),Object(x.jsx)("td",{children:P(e.data.address,e.game_levels.levels.data.address)?"SIM":"N\xc3O"}),Object(x.jsx)("td",{children:e.time_elapsed}),Object(x.jsx)("td",{children:e.hints_viewed})]},e.game_levels.games.profiles.name)}))})]})}):Object(x.jsx)("span",{children:"Loading..."})},De=function(e){var t=e.mode,r=e.guessLimit,o=Object(n.useState)(),i=Object(b.a)(o,2),a=i[0],c=i[1],s=Object(n.useState)(),u=Object(b.a)(s,2)[1];return Object(n.useEffect)((function(){c(void 0),u(void 0),Te(t,r).then((function(e){var t=e.data,r=e.error;if(t){var n,o=[],i=Object(N.a)(t);try{var a=function(){var e=n.value,t=o.find((function(t){return t.user.id===e.game_levels.games.profiles.id}));t?t.guesses.push(e):o.push({user:e.game_levels.games.profiles,guesses:[e],totalGuesses:0,totalTime:0,totalDistance:0,averageDistance:0,averageTime:0,correctGuesses:0})};for(i.s();!(n=i.n()).done;)a()}catch(d){i.e(d)}finally{i.f()}for(var s=0,l=o;s<l.length;s++){var h=l[s];h.totalGuesses=h.guesses.length,h.correctGuesses=h.guesses.reduce((function(e,t){return e+Number(P(t.data.address,t.game_levels.levels.data.address))}),0),h.totalDistance=h.guesses.reduce((function(e,t){return e+t.distance/1e3}),0),h.totalTime=h.guesses.reduce((function(e,t){return e+t.time_elapsed}),0),h.averageDistance=h.totalDistance/h.totalGuesses,h.averageTime=h.totalTime/h.totalGuesses}c(o.sort((function(e,t){return e.totalGuesses-t.totalGuesses||e.correctGuesses-t.correctGuesses||e.averageDistance-t.averageDistance||e.averageTime-t.averageTime})))}r&&u(r)}))}),[t,r]),a?Object(x.jsx)("div",{children:Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"#"}),Object(x.jsx)("th",{children:"Nome"}),Object(x.jsx)("th",{children:"Palpites Totais"}),Object(x.jsx)("th",{children:"Palpites Acertados"}),Object(x.jsx)("th",{children:"Dist\xe2ncia Total"}),Object(x.jsx)("th",{children:"Tempo Total"}),Object(x.jsx)("th",{children:"Dist\xe2ncia M\xe9dia"}),Object(x.jsx)("th",{children:"Tempo M\xe9dio"})]})}),Object(x.jsx)("tbody",{children:a.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.user.name}),Object(x.jsx)("td",{children:e.totalGuesses}),Object(x.jsx)("td",{children:e.correctGuesses}),Object(x.jsx)("td",{children:e.totalDistance.toFixed(2)}),Object(x.jsxs)("td",{children:[e.totalTime,"s"]}),Object(x.jsx)("td",{children:e.averageDistance.toFixed(2)}),Object(x.jsxs)("td",{children:[e.averageTime.toFixed(2),"s"]})]},e.user.id)}))})]})}):Object(x.jsx)("span",{children:"Loading..."})},qe=function(e){var t,r,o=e.modes,i=Object(n.useState)(5),a=Object(b.a)(i,2),c=a[0],s=a[1],u=Object(n.useState)(o[0].id),l=Object(b.a)(u,2),h=l[0],d=l[1],f=Object(n.useState)(0),p=Object(b.a)(f,2),v=p[0],m=p[1],j=null!==(t=null===(r=o.find((function(e){return e.id===h})))||void 0===r?void 0:r.mode_levels.map((function(e){return e.levels})))&&void 0!==t?t:[];return Object(x.jsxs)("div",{className:"leaderboard",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"mode_id",children:"Modo de Jogo"}),Object(x.jsx)("select",{name:"mode_id",id:"mode_id",value:h,onChange:function(e){d(Number(e.target.value)),m(0)},children:o.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.title},e.id)}))})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"level_id",children:"N\xedvel"}),Object(x.jsxs)("select",{name:"level_id",id:"level_id",value:v,onChange:function(e){return m(Number(e.target.value))},children:[Object(x.jsx)("option",{value:0,children:"Todos"}),j.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.id},e.id)}))]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"guess_limit",children:"N\xfamero de palpites"}),Object(x.jsxs)("select",{name:"guess_limit",id:"guess_limit",value:c,onChange:function(e){return s(Number(e.target.value))},children:[Object(x.jsx)("option",{value:"0",children:"Ilimitado"}),Object(x.jsx)("option",{value:"1",children:"1"}),Object(x.jsx)("option",{value:"2",children:"2"}),Object(x.jsx)("option",{value:"3",children:"3"}),Object(x.jsx)("option",{value:"4",children:"4"}),Object(x.jsx)("option",{value:"5",children:"5"}),Object(x.jsx)("option",{value:"6",children:"6"}),Object(x.jsx)("option",{value:"7",children:"7"}),Object(x.jsx)("option",{value:"8",children:"8"}),Object(x.jsx)("option",{value:"9",children:"9"}),Object(x.jsx)("option",{value:"10",children:"10"})]})]})]}),0===v?Object(x.jsx)(De,{mode:h,guessLimit:c}):Object(x.jsx)(Me,{mode:h,guessLimit:c,levelId:v})]})},Ve=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),r=t[0],o=t[1],i=function(){var e=Object(m.a)(Pe().mark((function e(){var t,r;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.from(pe).select("*, ".concat(ve,"!inner(*, ").concat(de,"!inner(*))"));case 2:t=e.sent,r=t.data,t.error,r&&o(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),r?Object(x.jsx)(qe,{modes:r}):null};var Ae=function(){return Object(n.useEffect)((function(){}),[]),null},ze=function(){var e=Object(f.f)({googleMapsApiKey:"AIzaSyBs7wwrJWJFkNijHdAkRwqBd-M7SCVIMIY",libraries:["geometry"]}),t=e.isLoaded,r=e.loadError;return!t||r?null:Object(x.jsx)("div",{className:"App",children:Object(x.jsx)("div",{className:"full",children:Object(x.jsxs)(p.c,{children:[Object(x.jsx)(p.a,{path:"/",element:Object(x.jsx)(Fe,{})}),Object(x.jsx)(p.a,{path:"/leaderboard",element:Object(x.jsx)(Ve,{})}),Object(x.jsx)(p.a,{path:"/debug",element:Object(x.jsx)(Ae,{})})]})})})},He=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,70)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),o(e),i(e),a(e)}))};r(66);h.a.registerLocale(d),u.a.setAppElement(document.getElementById("modal-container")||document.body.appendChild(document.createElement("div"))),a.a.render(Object(x.jsx)(c.a,{basename:"/tcc-learning",children:Object(x.jsx)(ze,{})}),document.getElementById("root")),He()}},[[67,1,2]]]);
//# sourceMappingURL=main.ef6c854d.chunk.js.map