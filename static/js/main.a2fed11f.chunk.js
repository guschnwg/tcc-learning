/*! For license information please see main.a2fed11f.chunk.js.LICENSE.txt */
(this["webpackJsonptcc-learning"]=this["webpackJsonptcc-learning"]||[]).push([[0],{60:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(13),a=n.n(i),c=n(21),s=n(17),u=n.n(s),l=n(27),d=n.n(l),h=n(28),f=n(9),p=n(6),v=n(11),j=n(7),b=n(32),m=n(33),g=n(22),y=n(34),x=n.p+"static/media/click-2.66336ee5.wav",O=n(1),w=["children"],k=new Audio(x);k.load();var L=function(t){var e=t.children,n=Object(y.a)(t,w);return Object(O.jsx)("button",Object(g.a)(Object(g.a)({},n),{},{onClick:function(t){k.play(),n.onClick&&n.onClick(t)},children:e}))},N={lat:-13.8860709,lng:-57.2789963};function C(t,e,n,r){function o(t){var e=Math.sin(t*Math.PI/180),n=Math.log((1+e)/(1-e))/2;return Math.max(Math.min(n,Math.PI),-Math.PI)/2}var i=Math.abs(o(t)-o(n)),a=Math.abs(e-r),c=i/Math.PI,s=a/360,u=Math.log(1/c)/Math.log(2),l=Math.log(1/s)/Math.log(2);return Math.min(u,l)}var E=function(t){var e=t.coordinates,n=void 0===e?N:e,r=t.zoom,o=void 0===r?4.5:r,i=t.options,a=void 0===i?{}:i,c=t.children,s=t.onMapClick;return Object(O.jsx)(f.a,{mapContainerStyle:{height:"100%"},center:n,zoom:o,options:a,onClick:s,children:c})},S=function(t){var e=t.children,n=t.show,r=t.onHide;return Object(O.jsx)(u.a,{isOpen:n,onRequestClose:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,style:{overlay:{backgroundColor:void 0},content:{inset:"150px",border:"1px solid #1d246e",background:"#323dbb",borderRadius:"12px",color:"white",padding:"10px"}},children:e})},_=function(t){var e=t.name,n=t.code;return Object(O.jsx)("img",{alt:e,height:20,width:30,src:"http://purecatamphetamine.github.io/country-flag-icons/3x2/".concat(n,".svg")})},M=function(t){var e=t.data,n=t.className,r=void 0===n?"":n,o=t.distance,i=t.children,a=e.address.city||e.address.town||e.address.municipality||e.address.county||e.address.village;a||console.log(e);var c=e.address.neighbourhood||e.address.suburb||e.address.city_district;return Object(O.jsxs)("div",{className:"data-container ".concat(r),children:[c&&Object(O.jsxs)("span",{children:["Bairro: ",c]}),a&&Object(O.jsxs)("span",{children:["Cidade: ",a]}),e.address.state&&Object(O.jsxs)("span",{children:["Estado: ",e.address.state]}),e.address.region&&Object(O.jsxs)("span",{children:["Regi\xe3o: ",e.address.region]}),e.address.country&&e.address.country_code&&Object(O.jsxs)("span",{className:"country",children:["Pa\xeds: ",e.address.country,Object(O.jsx)(_,{name:e.address.country,code:(e.address.country_code||"").toUpperCase()})]}),o&&Object(O.jsxs)("span",{children:["Dist\xe2ncia: ",o," km"]}),i]})},I=function(t){var e=t.color,n=void 0===e?"white":e;return Object(O.jsxs)("div",{className:"spinner",style:{borderColor:n},children:[Object(O.jsx)("div",{style:{borderColor:n}}),Object(O.jsx)("div",{style:{borderColor:n}})]})},P=n(29),F=function(t,e,n,r){return t+60*e+60*n*60+60*r*60*24},G=function(t){var e=t.children,n=t.onChange,o=Object(P.useStopwatch)({autoStart:!0}),i=o.seconds,a=o.minutes,c=o.hours,s=o.days;return Object(r.useEffect)((function(){n&&n(F(i,a,c,s))}),[n,i,a,c,s]),Object(O.jsxs)("div",{className:"stopwatch",children:[Object(O.jsx)("div",{className:"stopwatch-time shaking",children:"\u23f0"}),Object(O.jsxs)("span",{className:"stopwatch-time",children:[F(i,a,c,s),e]})]})},T={lat:10.99835602,lng:77.01502627},J=function(t){var e=t.streetViewPanorama,n=t.coordinates,o=t.children,i=Object(r.useState)(),a=Object(j.a)(i,2),c=a[0],s=a[1],u=Object(r.useRef)(null);return n?Object(O.jsx)(f.c,{position:n,onLoad:function(t){return s(t)},onClick:function(){u.current&&u.current.state.infoWindow&&u.current.state.infoWindow.open(e)},children:o&&c&&Object(O.jsx)(f.b,{ref:u,options:{pixelOffset:new google.maps.Size(0,-50,"px","px")},children:o})}):null},z=function(t){var e=t.markers,n=void 0===e?[]:e,o=t.guesses,i=void 0===o?[]:o,a=t.coordinates,c=void 0===a?T:a,s=Object(r.useState)(!1),u=Object(j.a)(s,1)[0],l=Object(r.useState)(),d=Object(j.a)(l,2),h=d[0],p=d[1],v={clickToGo:!0,position:c,pov:{heading:0,pitch:0},zoom:1,visible:!0,enableCloseButton:!1,disableDefaultUI:!0};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(f.a,{mapContainerStyle:{height:"100%"},center:c,zoom:10,children:[Object(O.jsx)(f.d,{onLoad:function(t){return p(t)},options:v}),u&&h&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J,{streetViewPanorama:h,coordinates:c,children:Object(O.jsx)("span",{children:"This is the initial location"})}),i.map((function(t){return Object(O.jsx)(J,{streetViewPanorama:h,coordinates:{lat:Number(t.data.lat),lng:Number(t.data.lon)},children:Object(O.jsx)(M,{data:t.data})},t.id)})),n.map((function(t,e){return Object(O.jsx)(J,{streetViewPanorama:h,coordinates:t.coordinates,children:Object(O.jsx)("span",{children:t.data})},e)}))]})]})})};function D(){D=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new w(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=y(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var l={};function d(){}function h(){}function f(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,j=v&&v(v(k([])));j&&j!==e&&n.call(j,o)&&(p=j);var b=f.prototype=d.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,c(b,"constructor",f),c(f,"constructor",h),h.displayName=c(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},m(g.prototype),c(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(b),c(b,a,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var V=function(t){return fetch(t).then((function(t){return t.json()}))},H=function(t){var e=t.position,n=t.onConfirm,r=Object(m.a)("https://nominatim.openstreetmap.org/reverse.php?lat=".concat(e.lat,"&lon=").concat(e.lng,"&zoom=18&format=jsonv2"),V,{suspense:!0}).data;return r.error||!r.address?Object(O.jsx)("span",{className:"data-container",children:"N\xe3o consegui localizar, tente novamente."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M,{data:r}),Object(O.jsx)(L,{onClick:function(){return n(r)},children:"Confirmar"})]})},A=function(t){var e=t.marker,n=t.onMapClick,i=t.onConfirm,a=Object(r.useState)(!1),c=Object(j.a)(a,2),s=c[0],u=c[1],l=Object(r.useState)(N),d=Object(j.a)(l,2),h=d[0],p=d[1],b=Object(r.useState)(4.5),m=Object(j.a)(b,2),g=m[0],y=m[1],x=function(){var t=Object(v.a)(D().mark((function t(e){var n,r,o,i,a;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=e.target.locale.value,r=encodeURIComponent(n),t.next=5,fetch("https://nominatim.openstreetmap.org/search.php?q=".concat(r,"&polygon_geojson=1&format=jsonv2"));case 5:return o=t.sent,t.next=8,o.json();case 8:(i=t.sent)&&i[0]&&(p({lat:Number(i[0].lat),lng:Number(i[0].lon)}),a=C(Number(i[0].boundingbox[0]),Number(i[0].boundingbox[2]),Number(i[0].boundingbox[1]),Number(i[0].boundingbox[3])),y(a));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"place-chooser-container",children:[Object(O.jsx)("div",{className:"search-place-form",children:Object(O.jsxs)("form",{onSubmit:x,children:[Object(O.jsx)("input",{name:"locale",id:"locale"}),Object(O.jsx)(L,{children:"Pesquisar"})]})}),Object(O.jsx)("div",{className:"place-chooser-map-container",children:Object(O.jsx)(E,{coordinates:h,zoom:g,options:{clickableIcons:!1},onMapClick:n,children:e&&Object(O.jsx)(f.c,{position:e,onClick:function(){return u(!0)},onPositionChanged:function(){return u(!0)},onLoad:function(){return u(!0)},children:s&&Object(O.jsx)(f.b,{onCloseClick:function(){return u(!1)},children:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(I,{color:"#323dbb"}),children:Object(O.jsx)(H,{position:e,onConfirm:i})})})})})})]})},Y=function(t){var e=t.show,n=t.onHide,o=t.onConfirm,i=Object(r.useState)(),a=Object(j.a)(i,2),c=a[0],s=a[1];return Object(O.jsx)(S,{show:e,onHide:n,children:Object(O.jsx)(A,{marker:c,onMapClick:function(t){t.latLng&&s(t.latLng.toJSON())},onConfirm:function(t){c&&o(c,t)}})})},R=function(t){var e=t.hints,n=t.hintsViewed,r=t.show,o=t.onHide,i=t.onTipView;return Object(O.jsx)(S,{show:r,onHide:o,children:Object(O.jsx)("ul",{children:e.map((function(t){return n.find((function(e){return e.id===t.id}))?Object(O.jsx)("li",{children:t.description},t.id):Object(O.jsx)("li",{children:Object(O.jsx)(L,{onClick:function(){return i(t.id)},children:"Mostrar"})},t.id)}))})})},B=function(t){var e=t.current,n=t.userData,o=t.onNext,i=t.onGuess,a=t.onHintViewed,c=Object(r.useState)(!1),s=Object(j.a)(c,2),u=s[0],l=s[1],d=Object(r.useState)(!1),h=Object(j.a)(d,2),f=h[0],p=h[1],v=Object(r.useRef)(0),b=n?n.hints.filter((function(t){return t.viewed})):[],m=100*b.length;return Object(O.jsxs)("div",{className:"game-container full",children:[Object(O.jsxs)("div",{className:"game-header",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(L,{onClick:function(){return l((function(t){return!t}))},children:"Palpitar"}),Object(O.jsxs)(L,{onClick:function(){return p((function(t){return!t}))},children:["Dicas ",b.length,"/",e.hints.length]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(G,{onChange:function(t){return v.current=t},children:m?Object(O.jsxs)("span",{className:"stopwatch-extra",children:["(+",m,")"]}):null},e.id)}),Object(O.jsx)("div",{children:Object(O.jsx)(L,{onClick:function(){return o()},children:"Pular"})})]}),Object(O.jsx)("div",{className:"game-body full-height",children:Object(O.jsx)(z,{markers:e.markers,guesses:(null===n||void 0===n?void 0:n.guesses)||[],coordinates:e.coordinates})}),Object(O.jsx)(Y,{show:u,onHide:function(){return l(!1)},onConfirm:function(t,n){i(n,v.current,function(t,e){var n=t.lat*(Math.PI/180),r=e.lat*(Math.PI/180),o=r-n,i=(e.lng-t.lng)*(Math.PI/180);return 7917.6*Math.asin(Math.sqrt(Math.sin(o/2)*Math.sin(o/2)+Math.cos(n)*Math.cos(r)*Math.sin(i/2)*Math.sin(i/2)))}(t,e.coordinates))}}),Object(O.jsx)(R,{hints:e.hints,hintsViewed:b,show:f,onHide:function(){return p(!1)},onTipView:function(t){return a(t,v.current)}})]})},q=n(30),U=function(t){var e=t.style,n=void 0===e?{}:e,r=t.current,o=t.levels,i=t.userData,a=t.onLevelClick;return Object(O.jsx)(O.Fragment,{children:o.map((function(t){var e=i.find((function(e){return e.level_id===t.id})),o=null;return e&&e.guesses&&(o=e.guesses.sort((function(t,e){return t.distance-e.distance}))[0]),Object(O.jsxs)(L,{className:"path-content-level full ".concat(r===t.id?"current":""),onClick:function(){return a(t.id)},style:n,children:[Object(O.jsx)("span",{className:"level-number ".concat(o?"":"never-tried"),children:t.id}),o&&Object(O.jsxs)("div",{className:"best-guess-path",children:[Object(O.jsx)("span",{className:"best-guess-path-title",children:"Melhor palpite"}),Object(O.jsxs)("span",{children:["Dist\xe2ncia: ",o.distance.toFixed(2)," km"]}),Object(O.jsxs)("span",{children:["Dicas: ",o.hints_viewed]})]})]},t.id)}))})},W=function(t){var e=t.levels,n=t.userData,o=t.current,i=t.onLevelClick,a=Object(r.useState)(!1),c=Object(j.a)(a,2),s=c[0],u=c[1],l=Object(q.a)(),d=Object(j.a)(l,2),h=d[0],f=d[1].width,p=2;return f>2500?p=7:f>1800?p=6:f>1200?p=5:f>850?p=4:f>600&&(p=3),Object(O.jsxs)("div",{className:"path-container shown",children:[Object(O.jsx)(L,{onClick:function(){return u((function(t){return!t}))},children:"N\xedveis"}),Object(O.jsxs)(S,{show:s,onHide:function(){return u(!1)},children:[Object(O.jsx)("div",{className:"levels-container",ref:h,children:Object(O.jsx)(U,{style:{width:f/p-20,height:f/p-20,margin:10},levels:e,userData:n,current:o,onLevelClick:function(t){i(t),u(!1)}})}),Object(O.jsx)("div",{children:"Mais por vir..."})]})]})};function Z(){Z=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new w(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=y(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var l={};function d(){}function h(){}function f(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,j=v&&v(v(k([])));j&&j!==e&&n.call(j,o)&&(p=j);var b=f.prototype=d.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,c(b,"constructor",f),c(f,"constructor",h),h.displayName=c(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},m(g.prototype),c(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(b),c(b,a,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var K=Object(b.a)("https://ddzlknjoifzrxzclbzop.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkemxrbmpvaWZ6cnh6Y2xiem9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTQxMTcyODAsImV4cCI6MTk2OTY5MzI4MH0.T_giaHDYzzpnJ3MfavMKAlKOsY3PpVqG6693vENyGMw"),X=function(t){var e=t.levels,n=t.data,o=t.onUpdate,i=Object(r.useState)(1),a=Object(j.a)(i,2),c=a[0],s=a[1],u=function(){var t=Object(v.a)(Z().mark((function t(e){var n,r;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.from("data").update({data:e.data}).match({id:e.id});case 2:if(n=t.sent,!(r=n.data)||!r[0]){t.next=7;break}return o(r[0]),t.abrupt("return",!0);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(v.a)(Z().mark((function t(e,r){var o,i,a;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=JSON.parse(JSON.stringify(n)),i={id:e,viewed:!0,timestamp:r},(a=o.data.find((function(t){return t.level_id===c})))?a.hints.push(i):o.data.push({id:o.data.length,level_id:c,hints:[i],guesses:[],completed:!1}),t.next=6,u(o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=Object(v.a)(Z().mark((function t(e){var r,o;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(JSON.stringify(n)),o=e||c+1,r.data.find((function(t){return t.level_id===o}))||r.data.push({id:r.data.length,level_id:o,hints:[],guesses:[],completed:!1}),t.next=6,u(r);case 6:if(!t.sent){t.next=8;break}s((function(t){return e||t+1}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(v.a)(Z().mark((function t(e,r,o){var i,a,s;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=JSON.parse(JSON.stringify(n)),a=i.data.find((function(t){return t.level_id===c})),s={id:a?a.guesses.length+1:1,distance:o,timestamp:r,hints_viewed:a?a.hints.length:0,data:e},a?a.guesses.push(s):i.data.push({id:i.data.length,level_id:c,hints:[],guesses:[s],completed:!1}),t.next=6,u(i);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"full",children:[Object(O.jsx)(B,{current:e.find((function(t){return t.id===c})),userData:n.data.find((function(t){return t.level_id===c})),onNext:d,onGuess:h,onHintViewed:l}),Object(O.jsx)(W,{levels:e,userData:n.data,current:c,onLevelClick:d})]})},Q=function(){var t=Object(r.useState)(),e=Object(j.a)(t,2),n=e[0],o=e[1],i=Object(r.useState)(),a=Object(j.a)(i,2),c=a[0],s=a[1],u=Object(r.useState)(),l=Object(j.a)(u,2),d=l[0],h=l[1],f=function(){var t=Object(v.a)(Z().mark((function t(){var e,n,r;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.from("levels").select();case 2:e=t.sent,n=e.data,(r=e.error)&&h(r),n&&s(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){n&&!c&&f()}),[n,c]);var p=function(){var t=Object(v.a)(Z().mark((function t(e){var n,r,i,a,c,s,u;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=e.target.user.value,t.next=4,K.from("data").select().eq("user",n);case 4:if(r=t.sent,i=r.data,!(a=r.error)){t.next=10;break}return h(a),t.abrupt("return");case 10:if(!i||!i[0]){t.next=14;break}return o(i[0]),window.localStorage.setItem("user",n),t.abrupt("return");case 14:if(!window.confirm("No user, create?")){t.next=22;break}return t.next=17,K.from("data").insert([{user:n,data:[]}]);case 17:c=t.sent,s=c.data,u=c.error,s&&s[0]&&(o(s[0]),window.localStorage.setItem("user",n)),u&&h(u);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return d?Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("pre",{children:JSON.stringify(d,null,2)}),Object(O.jsx)(L,{onClick:function(){return h(void 0)},children:"Retry"})]}):n?c?Object(O.jsx)(X,{levels:c,data:n,onUpdate:o}):Object(O.jsx)("div",{className:"login-container",children:Object(O.jsx)("span",{children:"Loading levels..."})}):Object(O.jsx)("div",{className:"login-container",children:Object(O.jsxs)("form",{onSubmit:p,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"name",children:"User"}),Object(O.jsx)("input",{name:"user",id:"user",defaultValue:window.localStorage.getItem("user")||""})]}),Object(O.jsx)("div",{children:Object(O.jsx)(L,{children:"Entrar"})})]})})},$={lat:-20.3864301,lng:-43.5027689},tt=function(){var t=Object(f.e)({googleMapsApiKey:"AIzaSyBs7wwrJWJFkNijHdAkRwqBd-M7SCVIMIY"}),e=t.isLoaded,n=t.loadError;return!e||n?null:Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("div",{className:"full",children:Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/",element:Object(O.jsx)(Q,{})}),Object(O.jsx)(p.a,{path:"street-view",element:Object(O.jsx)(z,{coordinates:$})}),Object(O.jsx)(p.a,{path:"map",element:Object(O.jsx)(E,{coordinates:$})})]})})})},et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),r(t),o(t),i(t),a(t)}))};n(60);d.a.registerLocale(h),u.a.setAppElement(document.getElementById("modal-container")||document.body.appendChild(document.createElement("div"))),a.a.render(Object(O.jsx)(c.a,{children:Object(O.jsx)(tt,{})}),document.getElementById("root")),et()}},[[61,1,2]]]);
//# sourceMappingURL=main.a2fed11f.chunk.js.map